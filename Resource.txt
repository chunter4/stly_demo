*** Settings ***
Documentation                     Includes all the Library and Resource files
Library                           Selenium2Library
Library                           Collections
Library                           RequestsLibrary
Library                           ExcelLibrary
Library                           Dialogs
Library                           OperatingSystem
Library                           robot.api.logger
Library                           DateTime
Library                           ScreenCapLibrary
Library                           openpyxl


*** Variables ***
${SEL_SPEED}                        0.2s
${STD_WAIT}                         15
${WEB_TIMEOUT}                      120
${BROWSER}                          chrome  #firefox|safari|IE|chrome|headlesschrome
${browser_width}                    1920
${browser_height}                   1080
${ENVIRONMENT}                      Temp   #QA|Production


*** Keywords ***
Set URL And User Credentials
    Run Keyword If    '${ENVIRONMENT}'=='Staging'    Set Global Variable    ${URL}    https://staging-newtargetview.sightly.com/
    log    URL to execute against: ${URL}    console=yes

Create Browser Instance
    [Arguments]    ${Link}

    Set Global Variable    ${global_downloadDir}    ${CURDIR}\\TestData\\Downloads
    #Modify Chrome so it downloads PDFs instead of viewing them
    #${chrome_options}=  Evaluate  sys.modules['selenium.webdriver'].ChromeOptions()  sys, selenium.webdriver
    #${prefs}  Create Dictionary  download.prompt_for_download=${FALSE}  download.default_directory=${global_downloadDir}
    #Call Method  ${chrome_options}  add_experimental_option  prefs  ${prefs}

    #run keyword if  "${test_type}" == "Local" or "${test_local}" == "True"  Open Browser  ${LOGINURL}  ${browserName}  options=${chrome_options}

    Open Browser    ${Link}    ${BROWSER}    options=add_argument("--ignore-certificate-errors"); add_experimental_option("download.prompt_for_download", ${False});  add_experimental_option("download.default_directory", ${global_downloadDir})
    Set Window Size    ${browser_width}    ${browser_height}

Login to TargetView
    Input Text Into Field    ${input_login}    ${stly_username}
    Input Text Into Field    ${input_password}    ${stly_password}
    Click an Element    ${button_login}